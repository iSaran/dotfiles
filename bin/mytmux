#!/bin/bash 

SESSION_NAME="MySession"

cd ~

# Check if this session exists
# If so attach it,
# If not create a new one

tmux has-session -t ${SESSION_NAME}

if [ $? != 0 ]
then
  tmux new-session -s ${SESSION_NAME} -d -n 'Monitoring' 
  tmux split-window -h -p 75 -d 'htop'

  cd ~/ros_ws/auth_arl/src/
  tmux new-window -n 'auth_arl'
  cd ~/ros_ws/auth_arl
  tmux split-window -p 10 
  tmux select-pane -t 1

  cd ~/ros_ws/ramcip_ws/src/ramcip
  tmux new-window -n 'ramcip'
  tmux send-keys 'source ~/ros_ws/ramcip_ws/devel/setup.bash' 'C-m' 'clear' 'C-m'
  cd ~/ros_ws/ramcip_ws/
  tmux split-window -p 10
  tmux send-keys 'source ~/ros_ws/ramcip_ws/devel/setup.bash' 'C-m' 'clear' 'C-m'
  tmux select-pane -t 1

  cd
  tmux new-window -n 'misc'
  tmux split-window -h -p 30
  tmux select-pane -t 1
  
  cd ~
  tmux new-window -n 'Programs'
  tmux split-window -h -p 50
  tmux split-window -v -p 50
  tmux select-pane -t 1
  tmux split-window -v -p 50 -d '~/.dropbox-dist/dropboxd'

  tmux select-window -t Monitoring

  tmux -2 attach-session -d
fi

tmux attach -t ${SESSION_NAME}
